[gd_scene load_steps=6 format=3 uid="uid://cxr8k5llwgbsg"]

[ext_resource type="Script" path="res://Infinity/Projectiles/TrickshotArrow.cs" id="1_0vn1c"]
[ext_resource type="AudioStream" uid="uid://cxeqyhwoxx6p5" path="res://Common/Resources/Sounds/se-shot-a.ogg" id="2_5kwiy"]
[ext_resource type="Texture2D" uid="uid://cdn2i4gg7kqjg" path="res://Common/Resources/Textures/Noita/Spell_arrow.webp" id="2_bu4uw"]

[sub_resource type="CircleShape2D" id="CircleShape2D_rj5bs"]
radius = 16.1245

[sub_resource type="CircleShape2D" id="CircleShape2D_d2y1d"]
radius = 1.0

[node name="TrickshotArrow" type="Node" node_paths=PackedStringArray("_rigidBody", "_enemyDamageArea", "_enemySearchArea", "_enemySearchCollisionShape", "_texture") groups=["Projectile"]]
script = ExtResource("1_0vn1c")
_rigidBody = NodePath("RigidBody2D")
_enemyDamageArea = NodePath("RigidBody2D/Enemy Damage Area")
_enemySearchArea = NodePath("RigidBody2D/Nearest Enemy Search Area")
_enemySearchCollisionShape = NodePath("RigidBody2D/Nearest Enemy Search Area/CollisionShape")
_texture = NodePath("RigidBody2D/TextureRect")
_spawnSound = ExtResource("2_5kwiy")
_hitSound = ExtResource("2_5kwiy")

[node name="RigidBody2D" type="RigidBody2D" parent="."]
collision_layer = 0
collision_mask = 0
gravity_scale = 0.0
lock_rotation = true

[node name="RgiditBodyの当たり判定" type="CollisionShape2D" parent="RigidBody2D"]
visible = false
shape = SubResource("CircleShape2D_rj5bs")
disabled = true
debug_color = Color(1, 0, 0, 0)

[node name="TextureRect" type="TextureRect" parent="RigidBody2D"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -20.0
offset_top = -20.0
offset_right = 20.0
offset_bottom = 20.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("2_bu4uw")
expand_mode = 1

[node name="Nearest Enemy Search Area" type="Area2D" parent="RigidBody2D"]
collision_layer = 0
collision_mask = 4

[node name="CollisionShape" type="CollisionShape2D" parent="RigidBody2D/Nearest Enemy Search Area"]
visible = false
shape = SubResource("CircleShape2D_d2y1d")
disabled = true
debug_color = Color(0, 1, 0, 0)

[node name="Enemy Damage Area" type="Area2D" parent="RigidBody2D"]
position = Vector2(-20, -20)
collision_layer = 0
collision_mask = 4

[node name="弾自体の当たり判定" type="CollisionShape2D" parent="RigidBody2D/Enemy Damage Area"]
position = Vector2(20, 20)
shape = SubResource("CircleShape2D_rj5bs")
debug_color = Color(1, 0, 0, 0)
